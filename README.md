# Frequency Analysis Utilities

This repository contains a small collection of Python scripts used to perform frequency analysis of byte sequences. It is centered around `freq.py`, a character frequency counter written by Mark Baggett, and `freq_exec.v2.py`, a multiprocess wrapper that applies a trained frequency table to a directory of files.

## Contents

- **freq.py** - Library implementing the `FreqCounter` class. It can learn the frequency of one character following another and calculate the probability that a string belongs to a given frequency model.
- **freq_exec.v2.py** - Command line tool that loads a frequency table generated by `freq.py` and scores multiple files in parallel. The results are written to a CSV file.

## Getting Started

1. Ensure you have Python 2.7 or later installed.
2. Obtain or create a frequency table that represents “normal” data. A simple approach is to run `freq.py` directly to tally characters from a reference file:

   ```bash
   python freq.py -c mytable.freq
   python freq.py -f reference_file -M 40 mytable.freq
   ```

   The commands above create an empty frequency table and update it with statistics learned from `reference_file`.

3. Once you have a frequency table, you can score files using `freq_exec.v2.py`.

## Usage

```
python freq_exec.v2.py -i <freq_table> -d <directory> -o <output_csv>
```

Arguments:

- `-i`, `--input` – Path to the frequency table created with `freq.py`.
- `-d`, `--directory` – Directory containing files to be scored.
- `-o`, `--outfile` – Destination CSV file for the results.

The script reads each file in the directory, calculates a probability score based on the provided frequency table and writes a `<filename>,<score>` pair to the output CSV.

Example:

```bash
python freq_exec.v2.py -i mytable.freq -d samples/ -o scores.csv
```

At completion, the script prints the files with the lowest and highest scores along with execution time.

## Notes

- `freq.py` is included verbatim from Mark Baggett’s repository: <https://github.com/MarkBaggett/MarkBaggett/tree/master/freq>.
- The code uses only the Python standard library; no third-party dependencies are required.

